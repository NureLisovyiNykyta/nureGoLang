basePath: /api
definitions:
  models.Class:
    properties:
      created_at:
        type: string
      id:
        type: string
      lessons:
        items:
          $ref: '#/definitions/models.Lesson'
        type: array
      name:
        description: e.g., "10-A"
        type: string
      students:
        items:
          $ref: '#/definitions/models.Student'
        type: array
      teacher:
        allOf:
        - $ref: '#/definitions/models.Teacher'
        description: Relations
      teacher_id:
        description: class teacher (homeroom)
        type: string
      updated_at:
        type: string
    type: object
  models.Grade:
    properties:
      comment:
        type: string
      created_at:
        type: string
      id:
        type: string
      lesson_id:
        type: string
      student_id:
        type: string
      updated_at:
        type: string
      value:
        description: use 1-12 or 0-100 depending on grading scheme
        type: integer
    type: object
  models.Lesson:
    properties:
      class_id:
        type: string
      created_at:
        type: string
      date:
        type: string
      grades:
        items:
          $ref: '#/definitions/models.Grade'
        type: array
      homework:
        type: string
      id:
        type: string
      subject_id:
        type: string
      teacher_id:
        type: string
      topic:
        type: string
      updated_at:
        type: string
    type: object
  models.Student:
    properties:
      birth_date:
        type: string
      class:
        allOf:
        - $ref: '#/definitions/models.Class'
        description: Relations
      class_id:
        type: string
      created_at:
        type: string
      email:
        type: string
      first_name:
        type: string
      grades:
        items:
          $ref: '#/definitions/models.Grade'
        type: array
      id:
        type: string
      last_name:
        type: string
      updated_at:
        type: string
    required:
    - first_name
    - last_name
    type: object
  models.Subject:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      updated_at:
        type: string
    type: object
  models.Teacher:
    properties:
      created_at:
        type: string
      email:
        type: string
      first_name:
        type: string
      id:
        type: string
      last_name:
        type: string
      subject:
        allOf:
        - $ref: '#/definitions/models.Subject'
        description: Relations
      subject_id:
        description: optional
        type: string
      updated_at:
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: your.email@example.com
    name: Nikita Lisovyi
    url: https://github.com/yourusername
  description: REST API for managing school journal system
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: School Journal API
  version: "1.0"
paths:
  /api/classes/{class_id}/lessons:
    get:
      description: Returns lessons of a class grouped by subject name
      parameters:
      - description: Class ID (UUID)
        in: path
        name: class_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              additionalProperties: true
              type: object
            type: array
      summary: Get all lessons of a class grouped by subject
      tags:
      - Classes
  /api/classes/{class_id}/students:
    get:
      description: Returns all students belonging to a given class
      parameters:
      - description: Class ID (UUID)
        in: path
        name: class_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Student'
            type: array
      summary: Get all students in a class
      tags:
      - Classes
  /api/statistics/class/{class_id}/subject/{subject_id}/average:
    get:
      description: Returns the average grade for all students in a class by subject
      parameters:
      - description: Class ID (UUID)
        in: path
        name: class_id
        required: true
        type: string
      - description: Subject ID (UUID)
        in: path
        name: subject_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              format: float64
              type: number
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get average grade of a class by subject
      tags:
      - Statistics
  /api/statistics/student/{student_id}/subject/{subject_id}/average:
    get:
      description: Returns the average grade for a given student and subject
      parameters:
      - description: Student ID (UUID)
        in: path
        name: student_id
        required: true
        type: string
      - description: Subject ID (UUID)
        in: path
        name: subject_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              format: float64
              type: number
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get average grade of a student by subject
      tags:
      - Statistics
  /api/students/{student_id}/grades:
    get:
      description: Returns all grades of a student across all subjects
      parameters:
      - description: Student ID (UUID)
        in: path
        name: student_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Grade'
            type: array
      summary: Get all grades of a student
      tags:
      - Students
  /api/teachers/{teacher_id}/classes:
    get:
      description: Returns list of unique classes taught by a teacher
      parameters:
      - description: Teacher ID (UUID)
        in: path
        name: teacher_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Class'
            type: array
      summary: Get all classes of a teacher
      tags:
      - Teachers
  /classes:
    get:
      consumes:
      - application/json
      description: Get list of all classes
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Class'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List classes
      tags:
      - classes
    post:
      consumes:
      - application/json
      description: Create a new class record
      parameters:
      - description: Class to create
        in: body
        name: class
        required: true
        schema:
          $ref: '#/definitions/models.Class'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Class'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new class
      tags:
      - classes
  /classes/{id}:
    delete:
      consumes:
      - application/json
      description: Delete class by UUID
      parameters:
      - description: Class ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a class
      tags:
      - classes
    get:
      consumes:
      - application/json
      description: Get class details by UUID
      parameters:
      - description: Class ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Class'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a class by id
      tags:
      - classes
    put:
      consumes:
      - application/json
      description: Update class by UUID
      parameters:
      - description: Class ID
        in: path
        name: id
        required: true
        type: string
      - description: Class data to update
        in: body
        name: class
        required: true
        schema:
          $ref: '#/definitions/models.Class'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Class'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a class
      tags:
      - classes
  /grades:
    get:
      consumes:
      - application/json
      description: Get list of all grades
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Grade'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List grades
      tags:
      - grades
    post:
      consumes:
      - application/json
      description: Create a new grade record
      parameters:
      - description: Grade to create
        in: body
        name: grade
        required: true
        schema:
          $ref: '#/definitions/models.Grade'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Grade'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new grade
      tags:
      - grades
  /grades/{id}:
    delete:
      consumes:
      - application/json
      description: Delete grade by UUID
      parameters:
      - description: Grade ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a grade
      tags:
      - grades
    get:
      consumes:
      - application/json
      description: Get grade details by UUID
      parameters:
      - description: Grade ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Grade'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a grade by id
      tags:
      - grades
    put:
      consumes:
      - application/json
      description: Update grade by UUID
      parameters:
      - description: Grade ID
        in: path
        name: id
        required: true
        type: string
      - description: Grade data to update
        in: body
        name: grade
        required: true
        schema:
          $ref: '#/definitions/models.Grade'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Grade'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a grade
      tags:
      - grades
  /lessons:
    get:
      consumes:
      - application/json
      description: Get list of all lessons
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Lesson'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List lessons
      tags:
      - lessons
    post:
      consumes:
      - application/json
      description: Create a new lesson record
      parameters:
      - description: Lesson to create
        in: body
        name: lesson
        required: true
        schema:
          $ref: '#/definitions/models.Lesson'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Lesson'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new lesson
      tags:
      - lessons
  /lessons/{id}:
    delete:
      consumes:
      - application/json
      description: Delete lesson by UUID
      parameters:
      - description: Lesson ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a lesson
      tags:
      - lessons
    get:
      consumes:
      - application/json
      description: Get lesson details by UUID
      parameters:
      - description: Lesson ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Lesson'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a lesson by id
      tags:
      - lessons
    put:
      consumes:
      - application/json
      description: Update lesson by UUID
      parameters:
      - description: Lesson ID
        in: path
        name: id
        required: true
        type: string
      - description: Lesson data to update
        in: body
        name: lesson
        required: true
        schema:
          $ref: '#/definitions/models.Lesson'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Lesson'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a lesson
      tags:
      - lessons
  /students:
    get:
      consumes:
      - application/json
      description: Get list of all students
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Student'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List students
      tags:
      - students
    post:
      consumes:
      - application/json
      description: Create a new student record
      parameters:
      - description: Student to create
        in: body
        name: student
        required: true
        schema:
          $ref: '#/definitions/models.Student'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Student'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new student
      tags:
      - students
  /students/{id}:
    delete:
      consumes:
      - application/json
      description: Delete student by UUID
      parameters:
      - description: Student ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a student
      tags:
      - students
    get:
      consumes:
      - application/json
      description: Get student details by UUID
      parameters:
      - description: Student ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Student'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a student by id
      tags:
      - students
    put:
      consumes:
      - application/json
      description: Update student by UUID
      parameters:
      - description: Student ID
        in: path
        name: id
        required: true
        type: string
      - description: Student data to update
        in: body
        name: student
        required: true
        schema:
          $ref: '#/definitions/models.Student'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Student'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a student
      tags:
      - students
  /subjects:
    get:
      consumes:
      - application/json
      description: Get list of all subjects
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Subject'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List subjects
      tags:
      - subjects
    post:
      consumes:
      - application/json
      description: Create a new subject record
      parameters:
      - description: Subject to create
        in: body
        name: subject
        required: true
        schema:
          $ref: '#/definitions/models.Subject'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Subject'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new subject
      tags:
      - subjects
  /subjects/{id}:
    delete:
      consumes:
      - application/json
      description: Delete subject by UUID
      parameters:
      - description: Subject ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a subject
      tags:
      - subjects
    get:
      consumes:
      - application/json
      description: Get subject details by UUID
      parameters:
      - description: Subject ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Subject'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a subject by id
      tags:
      - subjects
    put:
      consumes:
      - application/json
      description: Update subject by UUID
      parameters:
      - description: Subject ID
        in: path
        name: id
        required: true
        type: string
      - description: Subject data to update
        in: body
        name: subject
        required: true
        schema:
          $ref: '#/definitions/models.Subject'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Subject'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a subject
      tags:
      - subjects
  /teachers:
    get:
      consumes:
      - application/json
      description: Get list of all teachers
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Teacher'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: List teachers
      tags:
      - teachers
    post:
      consumes:
      - application/json
      description: Create a new teacher record
      parameters:
      - description: Teacher to create
        in: body
        name: teacher
        required: true
        schema:
          $ref: '#/definitions/models.Teacher'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Teacher'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new teacher
      tags:
      - teachers
  /teachers/{id}:
    delete:
      consumes:
      - application/json
      description: Delete teacher by UUID
      parameters:
      - description: Teacher ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a teacher
      tags:
      - teachers
    get:
      consumes:
      - application/json
      description: Get teacher details by UUID
      parameters:
      - description: Teacher ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Teacher'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a teacher by id
      tags:
      - teachers
    put:
      consumes:
      - application/json
      description: Update teacher by UUID
      parameters:
      - description: Teacher ID
        in: path
        name: id
        required: true
        type: string
      - description: Teacher data to update
        in: body
        name: teacher
        required: true
        schema:
          $ref: '#/definitions/models.Teacher'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Teacher'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a teacher
      tags:
      - teachers
swagger: "2.0"
